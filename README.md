# Hotkeyz

A small (3.5kB min / 1.7kB gzipped) dev-friendly keyboard event listener.

## Installation

`npm install hotkeyz`

## Building the listener

The `hotkeyz` function expects a config object as parameter and will return a function that you can use as a keyboard event listener.

The config object lists the different combos you'd like to react to, they should use valid combos as keys and event callbacks as value.

Combos are composed of modifiers and actual keys and should respect the following rules:

- simple key: `{key}`
- modifier: `{modifier} - {key}`
- many modifiers: `{modifier} + {modifier} [+ ...] - {key}`
- many combos: `{combo}, {combo} [, ...]`
- combo sequence (waits up to 1s between each combo): `{combo} {combo} [...]`

Valid modifiers are:

- `meta`
- `ctrl`
- `alt`
- `shift`

Key detection is based on [keycode](https://github.com/timoxley/keycode) so you can name your keys using strings that could be generated by this lib. It also means that you should always use the normal value of the keys you want as hotkey, e.g. if you want to react on user typing `?`, the combo should be `shift - /`.

On top of that, due to the `keypress` event being weird, you should always use the created listener for `keydown` or `keyup` events.

```js
import hotkeyz from 'hotkeyz'

const listener = hotkeyz({
  a: () => console.log('Pressed A.'),

  'meta - space': () => console.log('Pressed SPACE while holding META.'),

  'shift + alt + ctrl - esc': () =>
    console.log('Pressed ESCAPE while holding SHIFT, ALT and CTRL.'),

  'x, y': e => console.log('Pressed X or Y.', { key: e.key }),

  'a b c': () => console.log('Pressed A, then B, then C.'),

  'meta - k meta - up': e =>
    console.log(
      'Pressed k while holding META, then up while still holding META'
    )
})
```

## Examples

### Vanilla

```js
const listener = hotkeyz({
  a: () => console.log('a')
})

document.addEventListener('keydown', listener)
```

### React

```js
class Hotkeyz extends React.Component {
  doSomething = () => {
    console.log('something was done')
  }

  listener = hotkeyz({
    esc: this.doSomething
  })

  render() {
    return <div onKeyDown={this.listener} />
  }
}
```
